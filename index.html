<!doctype html>
<html>
<head>
  <title>NUBA TeleTrainer</title>


</head>

<!-- This is a block comment 
  Lorem Ipsum
-->


<!--<body style="background-color:#aaaaaa" -->
<body onload="sendDummy()">

<h2 style="text-align:center">TeleTrainer NUBA </h2>

<div id="header">
<button  id="button" onclick="sendPulse()">Pulso</button>
</div>

<br>
<br>


<div id="browser">
<iframe id="browserFrame" style="background-color:#aaaaaa" src="http://di5147.myfoscam.org:9090/"   width="600" height="600"></iframe>
</div>


<div id="footer">
<table style="width:100%">
  <tr>
    <td style="width:22%"></td>
    <td style="width:5%"><button  id="cameraButton" onclick="cameraUrlConfig()">Set Camera address</button></td>
    <td style="width:30%"><h2 id="textUrl" style="text-align:left"></h2></td> 
  </tr>
</table>

</div>


<script>
var cameraUrl = "http://di5147.myfoscam.org:9090/";
document.getElementById("textUrl").innerHTML = cameraUrl;

function cameraUrlConfig(){
  cameraUrl = prompt("Please, enter the camera URL");
  if((cameraUrl != null) && (cameraUrl != "")){	
  document.getElementById("textUrl").innerHTML = cameraUrl;
  document.getElementById("browserFrame").src = cameraUrl;
  document.getElementById("browserFrame").contentDocument.location.reload(true);
  }
}
</script>



<style>
#header {
    background-color:black;
    color:white;
    text-align:center;
    padding:5px;
}
#browser {
    background-color:#ffffff;
    text-align:center;
    float:center;
    padding:0px; 
}
#button {
    width:240px;
    height:100px;
    font-size:60px;
}
#cameraButton {
    width:300px;
    height:50px;
    font-size:20px;
} {
    width:200px;
    height:100px;
    font-size:60px;
}
#footer {
    background-color:black;
    color:white;
    clear:both;
    text-align:left;
    padding:2px; 
}
</style>


</body>

<script>
//This is a line comment (up to end of line)


var HotDogUrl = "https://agent.electricimp.com/oWPb6DwEM9HS?button=1";
function downScripts(pText) {
    var element = document.createElement("p");
    element.innerHTML  = pText;
    document.body.appendChild(element);
}
var HttpClient = function() {
    this.get = function(aUrl, aCallback) {
        anHttpRequest = new XMLHttpRequest();
        anHttpRequest.onreadystatechange = function() { 
            if (anHttpRequest.readyState == 4 && anHttpRequest.status == 200)
                aCallback(anHttpRequest.responseText);
        }
        anHttpRequest.open( "GET", aUrl, true );            
        anHttpRequest.send( null );
    }
}
var aClient = new HttpClient();
function sendPulse(){
    var HotDogUrl = "https://agent.electricimp.com/oWPb6DwEM9HS?button=1";
    toRed();
              
    aClient.get(HotDogUrl, function(answer){
        // do something with answer
        //alert("QQ:" + "  " + answer);
        toGreen();
    });
}
function sendDummy(){
    var HotDogUrl = "https://agent.electricimp.com/oWPb6DwEM9HS?dummy=1";
    toRed();
              
    aClient.get(HotDogUrl, function(answer){
        // do something with answer
        //alert("QQ:" + "  " + answer);
        toGreen();
    });
}
function toRed(){
    document.getElementById("header").style.backgroundColor = "#660000";
}
function toGreen(){
    document.getElementById("header").style.backgroundColor = "#00ff00";
    setTimeout(toOff, 500);	
}
function toOff(){
    document.getElementById("header").style.backgroundColor = "#000000";
}
// Another one:
function httpGet(theUrl){
    var xmlHttp = null;
    xmlHttp = new XMLHttpRequest();
    xmlHttp.open( "GET", theUrl, false );
    xmlHttp.send( null );
    return xmlHttp.responseText;
}
</script>

</html>
